<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>4 * 4 列矩阵 + canvas 2d完成三维效果</title>
	<style>
		* {padding: 0; margin: 0;}
		body { overflow: hidden;}
	</style>
</head>
<body>
<h1>4 * 4 列矩阵 + canvas 2d完成三维效果</h1>
<canvas id="canvas" width="512" height="512" style="transform: scale(1.6)"></canvas>
<script>
  var DTR = Math.PI / 180;
function _rt(val){
    return Object.prototype.toString.call(val);
}
var isArray = (function(){
    var ks = _rt([]);
    return function(object){
        return Object.prototype.toString.call(object) === ks;
    };
})();
var isNumber = (function(){
    var ks = _rt(1);
    return function(object){
        return Object.prototype.toString.call(object) === ks;
    };
})();
function random(min, max){
    if (isArray(min))
        return min[~~(Math.random() * min.length)];
    if (!isNumber(max))
        max = min || 1, min = 0;
    return min + Math.random() * (max - min);
};

(function() {
    var lastTime = 0;
    var vendors = ['ms', 'moz', 'webkit', 'o'];
    for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {
        window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];
        window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] ||
            window[vendors[x] + 'CancelRequestAnimationFrame'];
    }
    if (!window.requestAnimationFrame) {
        window.requestAnimationFrame = function(callback) {
            var currTime = new Date().getTime();
            var timeToCall = Math.max(0, 16 - (currTime - lastTime));
            var id = window.setTimeout(function() { callback(currTime + timeToCall); },
                timeToCall);
            lastTime = currTime + timeToCall;
            return id;
        };
    }
    if (!window.cancelAnimationFrame) {
        window.cancelAnimationFrame = function(id) {
            clearTimeout(id);
        };
    }
    window.RAF = window.requestAnimFrame = window.requestAnimationFrame;
})();


</script>
<script src="main.js"></script>
</body>
</html>